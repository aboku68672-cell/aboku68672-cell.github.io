<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>康惠达皮革检测报告</title>
    <style>
        /* 保持你现有的CSS样式 */
    </style>
</head>
<body>
    <div class="container">
        <h1 id="report-title">康惠达皮革检测报告</h1>
        <p>点击下方按钮开始手动下载</p>
        
        <div class="filename">
            文件名: <strong id="filename-display">正在加载...</strong>
        </div>
        
        <a href="#" id="download-link" class="download-btn" download>
            下载PDF文件
        </a>
        
        <div id="success-message" class="success-message">
            下载已开始！如果下载没有自动开始，请点击上方按钮
        </div>
    </div>

    <script>
        // 从URL参数获取报告文件名
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // 配置
        const defaultPdf = 'KHDWXSYSckbg-.pdf'; // 默认文件
        const pdfFile = getQueryParam('report') || defaultPdf;
        
        // 更新页面内容
        document.getElementById('filename-display').textContent = pdfFile;
        document.getElementById('download-link').href = `../reports/${pdfFile}`;
        document.title = `康惠达皮革检测报告 - ${pdfFile}`;
        document.getElementById('report-title').textContent = `康惠达皮革检测报告 - ${pdfFile}`;

        // 自动下载逻辑
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                try {
                    document.getElementById('success-message').style.display = 'block';
                    
                    const link = document.createElement('a');
                    link.href = `../reports/${pdfFile}`;
                    link.download = pdfFile;
                    link.style.display = 'none';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                } catch (error) {
                    console.log('自动下载可能被浏览器阻止');
                }
            }, 1000);
        });
    </script>
</body>
</html>